From a7faf10f7c3e8c8bf5ca2d6c00a2d526402bca97 Mon Sep 17 00:00:00 2001
From: laniakea64 <laniakea64@users.noreply.github.com>
Date: Sat, 8 Jun 2019 15:10:04 -0400
Subject: [PATCH 1/3] Disable DiscoveryStream / "Recommended by Pocket"

---
 browser/app/profile/firefox.js                   | 3 ++-
 browser/components/newtab/lib/ActivityStream.jsm | 2 +-
 2 files changed, 3 insertions(+), 2 deletions(-)

diff --git a/browser/app/profile/firefox.js b/browser/app/profile/firefox.js
index 12c6c045f2a1..1eef110f1bc4 100644
--- a/browser/app/profile/firefox.js
+++ b/browser/app/profile/firefox.js
@@ -1202,7 +1202,8 @@ pref("browser.newtabpage.activity-stream.feeds.topsites", false, locked);
 pref("services.sync.prefs.sync.browser.newtabpage.activity-stream.topSitesRows", true);
 pref("services.sync.prefs.sync.browser.newtabpage.activity-stream.feeds.snippets", false, locked);
 pref("browser.newtabpage.activity-stream.feeds.snippets", false, locked);
-pref("services.sync.prefs.sync.browser.newtabpage.activity-stream.feeds.section.topstories", true);
+pref("services.sync.prefs.sync.browser.newtabpage.activity-stream.feeds.section.topstories", false, locked);
+pref("browser.newtabpage.activity-stream.feeds.section.topstories", false, locked);
 pref("services.sync.prefs.sync.browser.newtabpage.activity-stream.section.topstories.rows", true);
 pref("services.sync.prefs.sync.browser.newtabpage.activity-stream.feeds.section.highlights", true);
 pref("services.sync.prefs.sync.browser.newtabpage.activity-stream.section.highlights.includeVisited", true);
diff --git a/browser/components/newtab/lib/ActivityStream.jsm b/browser/components/newtab/lib/ActivityStream.jsm
index fc3e1068a49a..0b4a433f52cd 100644
--- a/browser/components/newtab/lib/ActivityStream.jsm
+++ b/browser/components/newtab/lib/ActivityStream.jsm
@@ -344,7 +344,7 @@ const FEEDS_DATA = [
     name: "discoverystreamfeed",
     factory: () => new DiscoveryStreamFeed(),
     title: "Handles new pocket ui for the new tab page",
-    value: true,
+    value: false,
   },
 ];
 

From 564d6325aa5ac25696a48e17442ed97a99712e64 Mon Sep 17 00:00:00 2001
From: laniakea64 <laniakea64@users.noreply.github.com>
Date: Sat, 8 Jun 2019 15:26:38 -0400
Subject: [PATCH 2/3] Disable urlbar speculative connect by default

---
 browser/app/profile/firefox.js | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/browser/app/profile/firefox.js b/browser/app/profile/firefox.js
index 1eef110f1bc4..39d420928ad9 100644
--- a/browser/app/profile/firefox.js
+++ b/browser/app/profile/firefox.js
@@ -285,7 +285,7 @@ pref("browser.urlbar.ctrlCanonizesURLs", true);
 
 // Control autoFill behavior
 pref("browser.urlbar.autoFill", true);
-pref("browser.urlbar.speculativeConnect.enabled", true);
+sticky_pref("browser.urlbar.speculativeConnect.enabled", false);
 
 // Whether bookmarklets should be filtered out of Address Bar matches.
 // This is enabled for security reasons, when true it is still possible to

From 6db3f310c30deadefe2c547dcaebe44e9c6cb463 Mon Sep 17 00:00:00 2001
From: laniakea64 <laniakea64@users.noreply.github.com>
Date: Tue, 20 Mar 2018 12:04:26 -0400
Subject: [PATCH 3/3] Expose media.gmp-manager.updateEnabled in about:config by
 default

---
 modules/libpref/init/all.js | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/modules/libpref/init/all.js b/modules/libpref/init/all.js
index 8968dfc61d2f..344ee3a03d49 100644
--- a/modules/libpref/init/all.js
+++ b/modules/libpref/init/all.js
@@ -5769,6 +5769,9 @@ pref("browser.search.official", true);
 
 // GMPInstallManager prefs
 
+// Whether updates are enabled
+pref("media.gmp-manager.updateEnabled", true);
+
 // User-settable override to media.gmp-manager.url for testing purposes.
 //pref("media.gmp-manager.url.override", "");
 
